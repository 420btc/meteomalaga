{"ast":null,"code":"var _jsxFileName = \"/Users/atemjohnatem/Downloads/meteo-malaga/src/components/WeatherAlertsBanner.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Feather } from '@expo/vector-icons';\nimport CreateAlertModal from \"./CreateAlertModal\";\nimport UserAlertItem from \"./UserAlertItem\";\nimport { getAlerts, checkAlerts, toggleAlertActive, deleteAlert } from \"../services/alertService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WeatherAlertsBanner = ({\n  isLoading = false\n}) => {\n  const [alerts, setAlerts] = useState([]);\n  const [userAlerts, setUserAlerts] = useState([]);\n  const [alertResults, setAlertResults] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [expanded, setExpanded] = useState(null);\n  const [createModalVisible, setCreateModalVisible] = useState(false);\n  const [activeTab, setActiveTab] = useState('api');\n  useEffect(() => {\n    fetchAlerts();\n    loadUserAlerts();\n    const intervalId = setInterval(() => {\n      fetchAlerts();\n      loadUserAlerts();\n    }, 30 * 60 * 1000);\n    return () => clearInterval(intervalId);\n  }, []);\n  const fetchAlerts = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch('https://api.openweathermap.org/data/3.0/onecall?lat=36.7213&lon=-4.4213&exclude=minutely,hourly&units=metric&lang=es&appid=5ae0c9a3137234e18e032e3d6024629e');\n      if (!response.ok) {\n        throw new Error('Failed to fetch weather alerts');\n      }\n      const data = await response.json();\n      if (data.alerts && Array.isArray(data.alerts) && data.alerts.length > 0) {\n        setAlerts(data.alerts);\n      } else {\n        setAlerts([]);\n      }\n      setError(null);\n    } catch (error) {\n      console.error('Error fetching weather alerts:', error);\n      setError('Failed to load weather alerts');\n      if (process.env.NODE_ENV === 'development') {\n        setAlerts(generateFallbackAlerts());\n      } else {\n        setAlerts([]);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadUserAlerts = async () => {\n    try {\n      const userAlertsData = await getAlerts();\n      setUserAlerts(userAlertsData);\n      const results = await checkAlerts();\n      setAlertResults(results);\n    } catch (error) {\n      console.error('Error loading user alerts:', error);\n    }\n  };\n  const handleCreateAlert = async alert => {\n    setUserAlerts(prev => [...prev, alert]);\n    await loadUserAlerts();\n  };\n  const handleToggleActive = async alertId => {\n    await toggleAlertActive(alertId);\n    await loadUserAlerts();\n  };\n  const handleDeleteAlert = async alertId => {\n    await deleteAlert(alertId);\n    await loadUserAlerts();\n  };\n  const generateFallbackAlerts = () => {\n    const now = Math.floor(Date.now() / 1000);\n    const tomorrow = now + 24 * 60 * 60;\n    return [{\n      event: 'Alerta por calor',\n      description: 'Se esperan temperaturas superiores a 38°C en la costa de Málaga. Se recomienda evitar la exposición al sol entre las 12:00 y las 16:00.',\n      start: now,\n      end: tomorrow,\n      sender_name: 'AEMET',\n      severity: 'moderate'\n    }, {\n      event: 'Aviso por vientos fuertes',\n      description: 'Rachas de viento de hasta 70 km/h en zonas costeras. Precaución con objetos que puedan desprenderse.',\n      start: now,\n      end: now + 12 * 60 * 60,\n      sender_name: 'Protección Civil',\n      severity: 'minor'\n    }];\n  };\n  const formatDate = timestamp => {\n    const date = new Date(timestamp * 1000);\n    return date.toLocaleDateString('es-ES', {\n      day: '2-digit',\n      month: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  const getSeverityColor = severity => {\n    switch (severity.toLowerCase()) {\n      case 'extreme':\n        return '#EF4444';\n      case 'severe':\n        return '#F59E0B';\n      case 'moderate':\n        return '#FBBF24';\n      case 'minor':\n      default:\n        return '#10B981';\n    }\n  };\n  const getSeverityIcon = severity => {\n    switch (severity.toLowerCase()) {\n      case 'extreme':\n        return 'alert-triangle';\n      case 'severe':\n        return 'alert-circle';\n      case 'moderate':\n        return 'alert-octagon';\n      case 'minor':\n      default:\n        return 'info';\n    }\n  };\n  const toggleExpand = index => {\n    if (expanded === index) {\n      setExpanded(null);\n    } else {\n      setExpanded(index);\n    }\n  };\n  const getTriggeredAlertsCount = () => {\n    return alertResults.filter(result => result.triggered).length;\n  };\n  if (isLoading || loading) {\n    return _jsxDEV(View, {\n      style: styles.container,\n      children: _jsxDEV(View, {\n        style: styles.loadingContainer,\n        children: [_jsxDEV(ActivityIndicator, {\n          size: \"small\",\n          color: \"rgba(255, 255, 255, 0.7)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.loadingText,\n          children: \"Cargando avisos meteorol\\xF3gicos...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this);\n  }\n  const renderApiAlerts = () => {\n    if (error && alerts.length === 0) {\n      return _jsxDEV(View, {\n        style: styles.container,\n        children: _jsxDEV(Text, {\n          style: styles.errorText,\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this);\n    }\n    if (alerts.length === 0) {\n      return _jsxDEV(View, {\n        style: styles.emptyContainer,\n        children: [_jsxDEV(Feather, {\n          name: \"check-circle\",\n          size: 16,\n          color: \"#10B981\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.emptyText,\n          children: \"Sin avisos meteorol\\xF3gicos activos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this);\n    }\n    return _jsxDEV(ScrollView, {\n      style: styles.alertsContainer,\n      children: alerts.map((alert, index) => _jsxDEV(TouchableOpacity, {\n        style: [styles.alertItem, {\n          backgroundColor: `${getSeverityColor(alert.severity)}20`\n        }],\n        onPress: () => toggleExpand(index),\n        activeOpacity: 0.7,\n        children: [_jsxDEV(View, {\n          style: styles.alertHeader,\n          children: [_jsxDEV(View, {\n            style: styles.alertTitleContainer,\n            children: [_jsxDEV(Feather, {\n              name: getSeverityIcon(alert.severity),\n              size: 14,\n              color: getSeverityColor(alert.severity),\n              style: styles.alertIcon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 17\n            }, this), _jsxDEV(Text, {\n              style: styles.alertTitle,\n              numberOfLines: expanded === index ? undefined : 1,\n              children: alert.event\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this), _jsxDEV(Feather, {\n            name: expanded === index ? \"chevron-up\" : \"chevron-down\",\n            size: 14,\n            color: \"rgba(255, 255, 255, 0.7)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 13\n        }, this), expanded === index && _jsxDEV(View, {\n          style: styles.alertDetails,\n          children: [_jsxDEV(Text, {\n            style: styles.alertDescription,\n            children: alert.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 17\n          }, this), _jsxDEV(View, {\n            style: styles.alertMeta,\n            children: [_jsxDEV(Text, {\n              style: styles.alertTime,\n              children: [_jsxDEV(Feather, {\n                name: \"clock\",\n                size: 10,\n                color: \"rgba(255, 255, 255, 0.7)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 21\n              }, this), \" \", formatDate(alert.start), \" - \", formatDate(alert.end)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 19\n            }, this), _jsxDEV(Text, {\n              style: styles.alertSource,\n              children: [_jsxDEV(Feather, {\n                name: \"user\",\n                size: 10,\n                color: \"rgba(255, 255, 255, 0.7)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 21\n              }, this), \" \", alert.sender_name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this);\n  };\n  const renderUserAlerts = () => {\n    if (userAlerts.length === 0) {\n      return _jsxDEV(View, {\n        style: styles.emptyContainer,\n        children: [_jsxDEV(Feather, {\n          name: \"bell-off\",\n          size: 16,\n          color: \"#9CA3AF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.emptyText,\n          children: \"No tienes alertas personalizadas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this);\n    }\n    return _jsxDEV(ScrollView, {\n      style: styles.alertsContainer,\n      children: userAlerts.map(alert => {\n        const result = alertResults.find(r => r.alert.id === alert.id);\n        return _jsxDEV(UserAlertItem, {\n          alert: alert,\n          currentValue: result?.currentValue,\n          isTriggered: result?.triggered,\n          onToggleActive: handleToggleActive,\n          onDelete: handleDeleteAlert\n        }, alert.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this);\n  };\n  return _jsxDEV(View, {\n    style: styles.container,\n    children: [_jsxDEV(View, {\n      style: styles.header,\n      children: [_jsxDEV(View, {\n        style: styles.titleRow,\n        children: [_jsxDEV(Feather, {\n          name: \"alert-circle\",\n          size: 12,\n          color: \"#F59E0B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.titleText,\n          children: [\"Avisos meteorol\\xF3gicos\", getTriggeredAlertsCount() > 0 && ` (${getTriggeredAlertsCount()} activos)`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), _jsxDEV(TouchableOpacity, {\n        style: styles.addButton,\n        onPress: () => setCreateModalVisible(true),\n        children: _jsxDEV(Feather, {\n          name: \"plus-circle\",\n          size: 16,\n          color: \"#10B981\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.tabContainer,\n      children: [_jsxDEV(TouchableOpacity, {\n        style: [styles.tab, activeTab === 'api' && styles.activeTab],\n        onPress: () => setActiveTab('api'),\n        children: _jsxDEV(Text, {\n          style: [styles.tabText, activeTab === 'api' && styles.activeTabText],\n          children: [\"Oficiales (\", alerts.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this), _jsxDEV(TouchableOpacity, {\n        style: [styles.tab, activeTab === 'user' && styles.activeTab],\n        onPress: () => setActiveTab('user'),\n        children: _jsxDEV(Text, {\n          style: [styles.tabText, activeTab === 'user' && styles.activeTabText],\n          children: [\"Mis Alertas (\", userAlerts.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this), activeTab === 'api' ? renderApiAlerts() : renderUserAlerts(), _jsxDEV(CreateAlertModal, {\n      visible: createModalVisible,\n      onClose: () => setCreateModalVisible(false),\n      onAlertCreated: handleCreateAlert\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 307,\n    columnNumber: 5\n  }, this);\n};\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: 'rgba(0, 0, 0, 0.15)',\n    borderRadius: 8,\n    padding: 6,\n    marginTop: 2,\n    marginBottom: 0\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 8\n  },\n  titleRow: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  titleText: {\n    fontSize: 12,\n    color: 'rgba(255, 255, 255, 0.7)',\n    fontFamily: Platform.OS === 'android' ? 'sans-serif' : 'Arial',\n    marginLeft: 4\n  },\n  addButton: {\n    padding: 4\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    marginBottom: 8\n  },\n  tab: {\n    flex: 1,\n    paddingVertical: 6,\n    alignItems: 'center',\n    borderBottomWidth: 2,\n    borderBottomColor: 'transparent'\n  },\n  activeTab: {\n    borderBottomColor: '#3B82F6'\n  },\n  tabText: {\n    fontSize: 12,\n    color: 'rgba(255, 255, 255, 0.6)',\n    fontFamily: Platform.OS === 'android' ? 'sans-serif' : 'Arial'\n  },\n  activeTabText: {\n    color: '#FFFFFF',\n    fontWeight: 'bold'\n  },\n  alertsContainer: {\n    maxHeight: 300\n  },\n  loadingContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 4\n  },\n  loadingText: {\n    fontSize: 12,\n    color: 'rgba(255, 255, 255, 0.7)',\n    fontFamily: Platform.OS === 'android' ? 'sans-serif' : 'Arial',\n    marginLeft: 6\n  },\n  errorText: {\n    fontSize: 12,\n    color: 'rgba(255, 255, 255, 0.7)',\n    fontFamily: Platform.OS === 'android' ? 'sans-serif' : 'Arial',\n    textAlign: 'center',\n    padding: 4\n  },\n  emptyContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 16\n  },\n  emptyText: {\n    fontSize: 14,\n    color: 'rgba(255, 255, 255, 0.7)',\n    fontFamily: Platform.OS === 'android' ? 'sans-serif' : 'Arial',\n    marginLeft: 8\n  },\n  alertItem: {\n    borderRadius: 6,\n    marginTop: 4,\n    overflow: 'hidden'\n  },\n  alertHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 6\n  },\n  alertTitleContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1\n  },\n  alertIcon: {\n    marginRight: 6\n  },\n  alertTitle: {\n    fontSize: 12,\n    fontWeight: 'bold',\n    color: '#FFFFFF',\n    fontFamily: Platform.OS === 'android' ? 'sans-serif-medium' : 'Arial',\n    flex: 1\n  },\n  alertDetails: {\n    padding: 6,\n    paddingTop: 0\n  },\n  alertDescription: {\n    fontSize: 11,\n    color: 'rgba(255, 255, 255, 0.9)',\n    fontFamily: Platform.OS === 'android' ? 'sans-serif' : 'Arial',\n    marginBottom: 4\n  },\n  alertMeta: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  alertTime: {\n    fontSize: 10,\n    color: 'rgba(255, 255, 255, 0.7)',\n    fontFamily: Platform.OS === 'android' ? 'sans-serif' : 'Arial'\n  },\n  alertSource: {\n    fontSize: 10,\n    color: 'rgba(255, 255, 255, 0.7)',\n    fontFamily: Platform.OS === 'android' ? 'sans-serif' : 'Arial'\n  }\n});\nexport default WeatherAlertsBanner;","map":{"version":3,"names":["React","useState","useEffect","StyleSheet","View","Text","Platform","ActivityIndicator","TouchableOpacity","ScrollView","Feather","CreateAlertModal","UserAlertItem","getAlerts","checkAlerts","toggleAlertActive","deleteAlert","jsxDEV","_jsxDEV","WeatherAlertsBanner","isLoading","alerts","setAlerts","userAlerts","setUserAlerts","alertResults","setAlertResults","loading","setLoading","error","setError","expanded","setExpanded","createModalVisible","setCreateModalVisible","activeTab","setActiveTab","fetchAlerts","loadUserAlerts","intervalId","setInterval","clearInterval","response","fetch","ok","Error","data","json","Array","isArray","length","console","process","env","NODE_ENV","generateFallbackAlerts","userAlertsData","results","handleCreateAlert","alert","prev","handleToggleActive","alertId","handleDeleteAlert","now","Math","floor","Date","tomorrow","event","description","start","end","sender_name","severity","formatDate","timestamp","date","toLocaleDateString","day","month","hour","minute","getSeverityColor","toLowerCase","getSeverityIcon","toggleExpand","index","getTriggeredAlertsCount","filter","result","triggered","style","styles","container","children","loadingContainer","size","color","fileName","_jsxFileName","lineNumber","columnNumber","loadingText","renderApiAlerts","errorText","emptyContainer","name","emptyText","alertsContainer","map","alertItem","backgroundColor","onPress","activeOpacity","alertHeader","alertTitleContainer","alertIcon","alertTitle","numberOfLines","undefined","alertDetails","alertDescription","alertMeta","alertTime","alertSource","renderUserAlerts","find","r","id","currentValue","isTriggered","onToggleActive","onDelete","header","titleRow","titleText","addButton","tabContainer","tab","tabText","activeTabText","visible","onClose","onAlertCreated","create","borderRadius","padding","marginTop","marginBottom","flexDirection","justifyContent","alignItems","fontSize","fontFamily","OS","marginLeft","flex","paddingVertical","borderBottomWidth","borderBottomColor","fontWeight","maxHeight","textAlign","overflow","marginRight","paddingTop"],"sources":["/Users/atemjohnatem/Downloads/meteo-malaga/src/components/WeatherAlertsBanner.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  StyleSheet, \n  View, \n  Text, \n  Platform,\n  ActivityIndicator,\n  TouchableOpacity,\n  ScrollView\n} from 'react-native';\nimport { Feather } from '@expo/vector-icons';\nimport CreateAlertModal from './CreateAlertModal';\nimport UserAlertItem from './UserAlertItem';\nimport { UserAlert, AlertCheckResult } from '../types/alerts';\nimport { getAlerts, checkAlerts, toggleAlertActive, deleteAlert } from '../services/alertService';\n\ninterface WeatherAlert {\n  event: string;\n  description: string;\n  start: number;\n  end: number;\n  sender_name: string;\n  severity: string;\n}\n\ninterface WeatherAlertsBannerProps {\n  isLoading?: boolean;\n}\n\nconst WeatherAlertsBanner: React.FC<WeatherAlertsBannerProps> = ({ \n  isLoading = false\n}) => {\n  const [alerts, setAlerts] = useState<WeatherAlert[]>([]);\n  const [userAlerts, setUserAlerts] = useState<UserAlert[]>([]);\n  const [alertResults, setAlertResults] = useState<AlertCheckResult[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [expanded, setExpanded] = useState<number | null>(null);\n  const [createModalVisible, setCreateModalVisible] = useState(false);\n  const [activeTab, setActiveTab] = useState<'api' | 'user'>('api');\n\n  useEffect(() => {\n    fetchAlerts();\n    loadUserAlerts();\n    \n    // Set up interval to refresh data every 30 minutes\n    const intervalId = setInterval(() => {\n      fetchAlerts();\n      loadUserAlerts();\n    }, 30 * 60 * 1000);\n    \n    return () => clearInterval(intervalId);\n  }, []);\n\n  const fetchAlerts = async () => {\n    try {\n      setLoading(true);\n      \n      // Use the OpenWeatherMap API 3.0 for Málaga\n      const response = await fetch(\n        'https://api.openweathermap.org/data/3.0/onecall?lat=36.7213&lon=-4.4213&exclude=minutely,hourly&units=metric&lang=es&appid=5ae0c9a3137234e18e032e3d6024629e'\n      );\n      \n      if (!response.ok) {\n        throw new Error('Failed to fetch weather alerts');\n      }\n      \n      const data = await response.json();\n      \n      // Check if there are any alerts\n      if (data.alerts && Array.isArray(data.alerts) && data.alerts.length > 0) {\n        setAlerts(data.alerts);\n      } else {\n        // No alerts, set empty array\n        setAlerts([]);\n      }\n      \n      setError(null);\n    } catch (error) {\n      console.error('Error fetching weather alerts:', error);\n      setError('Failed to load weather alerts');\n      // Generate fallback data for testing if needed\n      if (process.env.NODE_ENV === 'development') {\n        setAlerts(generateFallbackAlerts());\n      } else {\n        setAlerts([]);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadUserAlerts = async () => {\n    try {\n      // Load user alerts\n      const userAlertsData = await getAlerts();\n      setUserAlerts(userAlertsData);\n      \n      // Check if any alerts are triggered\n      const results = await checkAlerts();\n      setAlertResults(results);\n    } catch (error) {\n      console.error('Error loading user alerts:', error);\n    }\n  };\n\n  const handleCreateAlert = async (alert: UserAlert) => {\n    setUserAlerts(prev => [...prev, alert]);\n    await loadUserAlerts(); // Reload to check if the new alert is triggered\n  };\n\n  const handleToggleActive = async (alertId: string) => {\n    await toggleAlertActive(alertId);\n    await loadUserAlerts();\n  };\n\n  const handleDeleteAlert = async (alertId: string) => {\n    await deleteAlert(alertId);\n    await loadUserAlerts();\n  };\n\n  const generateFallbackAlerts = (): WeatherAlert[] => {\n    const now = Math.floor(Date.now() / 1000);\n    const tomorrow = now + 24 * 60 * 60;\n    \n    return [\n      {\n        event: 'Alerta por calor',\n        description: 'Se esperan temperaturas superiores a 38°C en la costa de Málaga. Se recomienda evitar la exposición al sol entre las 12:00 y las 16:00.',\n        start: now,\n        end: tomorrow,\n        sender_name: 'AEMET',\n        severity: 'moderate'\n      },\n      {\n        event: 'Aviso por vientos fuertes',\n        description: 'Rachas de viento de hasta 70 km/h en zonas costeras. Precaución con objetos que puedan desprenderse.',\n        start: now,\n        end: now + 12 * 60 * 60,\n        sender_name: 'Protección Civil',\n        severity: 'minor'\n      }\n    ];\n  };\n\n  const formatDate = (timestamp: number) => {\n    const date = new Date(timestamp * 1000);\n    return date.toLocaleDateString('es-ES', {\n      day: '2-digit',\n      month: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const getSeverityColor = (severity: string) => {\n    switch (severity.toLowerCase()) {\n      case 'extreme':\n        return '#EF4444'; // Red\n      case 'severe':\n        return '#F59E0B'; // Orange\n      case 'moderate':\n        return '#FBBF24'; // Yellow\n      case 'minor':\n      default:\n        return '#10B981'; // Green\n    }\n  };\n\n  const getSeverityIcon = (severity: string) => {\n    switch (severity.toLowerCase()) {\n      case 'extreme':\n        return 'alert-triangle';\n      case 'severe':\n        return 'alert-circle';\n      case 'moderate':\n        return 'alert-octagon';\n      case 'minor':\n      default:\n        return 'info';\n    }\n  };\n\n  const toggleExpand = (index: number) => {\n    if (expanded === index) {\n      setExpanded(null);\n    } else {\n      setExpanded(index);\n    }\n  };\n\n  const getTriggeredAlertsCount = () => {\n    return alertResults.filter(result => result.triggered).length;\n  };\n\n  if (isLoading || loading) {\n    return (\n      <View style={styles.container}>\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"small\" color=\"rgba(255, 255, 255, 0.7)\" />\n          <Text style={styles.loadingText}>Cargando avisos meteorológicos...</Text>\n        </View>\n      </View>\n    );\n  }\n\n  const renderApiAlerts = () => {\n    if (error && alerts.length === 0) {\n      return (\n        <View style={styles.container}>\n          <Text style={styles.errorText}>{error}</Text>\n        </View>\n      );\n    }\n\n    if (alerts.length === 0) {\n      return (\n        <View style={styles.emptyContainer}>\n          <Feather name=\"check-circle\" size={16} color=\"#10B981\" />\n          <Text style={styles.emptyText}>Sin avisos meteorológicos activos</Text>\n        </View>\n      );\n    }\n\n    return (\n      <ScrollView style={styles.alertsContainer}>\n        {alerts.map((alert, index) => (\n          <TouchableOpacity \n            key={index} \n            style={[\n              styles.alertItem,\n              { backgroundColor: `${getSeverityColor(alert.severity)}20` } // 20 is for 12% opacity\n            ]}\n            onPress={() => toggleExpand(index)}\n            activeOpacity={0.7}\n          >\n            <View style={styles.alertHeader}>\n              <View style={styles.alertTitleContainer}>\n                <Feather \n                  name={getSeverityIcon(alert.severity)} \n                  size={14} \n                  color={getSeverityColor(alert.severity)} \n                  style={styles.alertIcon}\n                />\n                <Text style={styles.alertTitle} numberOfLines={expanded === index ? undefined : 1}>\n                  {alert.event}\n                </Text>\n              </View>\n              <Feather \n                name={expanded === index ? \"chevron-up\" : \"chevron-down\"} \n                size={14} \n                color=\"rgba(255, 255, 255, 0.7)\" \n              />\n            </View>\n            \n            {expanded === index && (\n              <View style={styles.alertDetails}>\n                <Text style={styles.alertDescription}>\n                  {alert.description}\n                </Text>\n                <View style={styles.alertMeta}>\n                  <Text style={styles.alertTime}>\n                    <Feather name=\"clock\" size={10} color=\"rgba(255, 255, 255, 0.7)\" /> {formatDate(alert.start)} - {formatDate(alert.end)}\n                  </Text>\n                  <Text style={styles.alertSource}>\n                    <Feather name=\"user\" size={10} color=\"rgba(255, 255, 255, 0.7)\" /> {alert.sender_name}\n                  </Text>\n                </View>\n              </View>\n            )}\n          </TouchableOpacity>\n        ))}\n      </ScrollView>\n    );\n  };\n\n  const renderUserAlerts = () => {\n    if (userAlerts.length === 0) {\n      return (\n        <View style={styles.emptyContainer}>\n          <Feather name=\"bell-off\" size={16} color=\"#9CA3AF\" />\n          <Text style={styles.emptyText}>No tienes alertas personalizadas</Text>\n        </View>\n      );\n    }\n\n    return (\n      <ScrollView style={styles.alertsContainer}>\n        {userAlerts.map(alert => {\n          const result = alertResults.find(r => r.alert.id === alert.id);\n          return (\n            <UserAlertItem\n              key={alert.id}\n              alert={alert}\n              currentValue={result?.currentValue}\n              isTriggered={result?.triggered}\n              onToggleActive={handleToggleActive}\n              onDelete={handleDeleteAlert}\n            />\n          );\n        })}\n      </ScrollView>\n    );\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.header}>\n        <View style={styles.titleRow}>\n          <Feather name=\"alert-circle\" size={12} color=\"#F59E0B\" />\n          <Text style={styles.titleText}>\n            Avisos meteorológicos\n            {getTriggeredAlertsCount() > 0 && ` (${getTriggeredAlertsCount()} activos)`}\n          </Text>\n        </View>\n        \n        <TouchableOpacity \n          style={styles.addButton}\n          onPress={() => setCreateModalVisible(true)}\n        >\n          <Feather name=\"plus-circle\" size={16} color=\"#10B981\" />\n        </TouchableOpacity>\n      </View>\n      \n      <View style={styles.tabContainer}>\n        <TouchableOpacity\n          style={[styles.tab, activeTab === 'api' && styles.activeTab]}\n          onPress={() => setActiveTab('api')}\n        >\n          <Text style={[styles.tabText, activeTab === 'api' && styles.activeTabText]}>\n            Oficiales ({alerts.length})\n          </Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          style={[styles.tab, activeTab === 'user' && styles.activeTab]}\n          onPress={() => setActiveTab('user')}\n        >\n          <Text style={[styles.tabText, activeTab === 'user' && styles.activeTabText]}>\n            Mis Alertas ({userAlerts.length})\n          </Text>\n        </TouchableOpacity>\n      </View>\n      \n      {activeTab === 'api' ? renderApiAlerts() : renderUserAlerts()}\n      \n      <CreateAlertModal\n        visible={createModalVisible}\n        onClose={() => setCreateModalVisible(false)}\n        onAlertCreated={handleCreateAlert}\n      />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: 'rgba(0, 0, 0, 0.15)',\n    borderRadius: 8,\n    padding: 6,\n    marginTop: 2,\n    marginBottom: 0,\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  titleRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  titleText: {\n    fontSize: 12,\n    color: 'rgba(255, 255, 255, 0.7)',\n    fontFamily: Platform.OS === 'android' ? 'sans-serif' : 'Arial',\n    marginLeft: 4,\n  },\n  addButton: {\n    padding: 4,\n  },\n  tabContainer: {\n    flexDirection: 'row',\n    marginBottom: 8,\n  },\n  tab: {\n    flex: 1,\n    paddingVertical: 6,\n    alignItems: 'center',\n    borderBottomWidth: 2,\n    borderBottomColor: 'transparent',\n  },\n  activeTab: {\n    borderBottomColor: '#3B82F6',\n  },\n  tabText: {\n    fontSize: 12,\n    color: 'rgba(255, 255, 255, 0.6)',\n    fontFamily: Platform.OS === 'android' ? 'sans-serif' : 'Arial',\n  },\n  activeTabText: {\n    color: '#FFFFFF',\n    fontWeight: 'bold',\n  },\n  alertsContainer: {\n    maxHeight: 300,\n  },\n  loadingContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 4,\n  },\n  loadingText: {\n    fontSize: 12,\n    color: 'rgba(255, 255, 255, 0.7)',\n    fontFamily: Platform.OS === 'android' ? 'sans-serif' : 'Arial',\n    marginLeft: 6,\n  },\n  errorText: {\n    fontSize: 12,\n    color: 'rgba(255, 255, 255, 0.7)',\n    fontFamily: Platform.OS === 'android' ? 'sans-serif' : 'Arial',\n    textAlign: 'center',\n    padding: 4,\n  },\n  emptyContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 16,\n  },\n  emptyText: {\n    fontSize: 14,\n    color: 'rgba(255, 255, 255, 0.7)',\n    fontFamily: Platform.OS === 'android' ? 'sans-serif' : 'Arial',\n    marginLeft: 8,\n  },\n  alertItem: {\n    borderRadius: 6,\n    marginTop: 4,\n    overflow: 'hidden',\n  },\n  alertHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 6,\n  },\n  alertTitleContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1,\n  },\n  alertIcon: {\n    marginRight: 6,\n  },\n  alertTitle: {\n    fontSize: 12,\n    fontWeight: 'bold',\n    color: '#FFFFFF',\n    fontFamily: Platform.OS === 'android' ? 'sans-serif-medium' : 'Arial',\n    flex: 1,\n  },\n  alertDetails: {\n    padding: 6,\n    paddingTop: 0,\n  },\n  alertDescription: {\n    fontSize: 11,\n    color: 'rgba(255, 255, 255, 0.9)',\n    fontFamily: Platform.OS === 'android' ? 'sans-serif' : 'Arial',\n    marginBottom: 4,\n  },\n  alertMeta: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  alertTime: {\n    fontSize: 10,\n    color: 'rgba(255, 255, 255, 0.7)',\n    fontFamily: Platform.OS === 'android' ? 'sans-serif' : 'Arial',\n  },\n  alertSource: {\n    fontSize: 10,\n    color: 'rgba(255, 255, 255, 0.7)',\n    fontFamily: Platform.OS === 'android' ? 'sans-serif' : 'Arial',\n  },\n});\n\nexport default WeatherAlertsBanner;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}