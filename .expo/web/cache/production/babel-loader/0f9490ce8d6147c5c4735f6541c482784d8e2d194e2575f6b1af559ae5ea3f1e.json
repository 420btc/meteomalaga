{"ast":null,"code":"import React from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import{Svg,Rect,Line,Text as SvgText,G}from'react-native-svg';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{width:screenWidth}=Dimensions.get('window');const RainHistoryChart=({data,height=200,width=screenWidth-40})=>{if(!data||data.length===0){return _jsx(View,{style:[styles.container,{height,width}],children:_jsx(Text,{style:styles.noDataText,children:\"No hay datos disponibles\"})});}const maxAmount=Math.max(...data.map(item=>item.amount),10);const padding=30;const chartWidth=width-padding*2;const chartHeight=height-padding*2;const barWidth=chartWidth/data.length-4;const formatDate=dateString=>{const date=new Date(dateString);return`${date.getDate()}/${date.getMonth()+1}`;};return _jsxs(View,{style:[styles.container,{height,width}],children:[_jsx(Text,{style:styles.title,children:\"Historial de Precipitaciones\"}),_jsxs(Svg,{height:height,width:width,children:[_jsx(Line,{x1:padding,y1:padding,x2:padding,y2:height-padding,stroke:\"#CCCCCC\",strokeWidth:\"1\"}),_jsx(Line,{x1:padding,y1:height-padding,x2:width-padding,y2:height-padding,stroke:\"#CCCCCC\",strokeWidth:\"1\"}),_jsxs(SvgText,{x:padding-5,y:padding,fontSize:\"10\",fill:\"#666666\",textAnchor:\"end\",children:[maxAmount,\"mm\"]}),_jsx(SvgText,{x:padding-5,y:height-padding,fontSize:\"10\",fill:\"#666666\",textAnchor:\"end\",children:\"0mm\"}),data.map((item,index)=>{const barHeight=item.amount/maxAmount*chartHeight;const x=padding+index*(chartWidth/data.length)+2;const y=height-padding-barHeight;return _jsxs(G,{children:[_jsx(Rect,{x:x,y:y,width:barWidth,height:barHeight,fill:\"#3B82F6\",rx:4}),_jsx(SvgText,{x:x+barWidth/2,y:height-padding+15,fontSize:\"8\",fill:\"#666666\",textAnchor:\"middle\",children:formatDate(item.date)}),_jsx(SvgText,{x:x+barWidth/2,y:y-5,fontSize:\"8\",fill:\"#666666\",textAnchor:\"middle\",children:item.amount>0?`${item.amount}mm`:''})]},index);})]})]});};const styles=StyleSheet.create({container:{backgroundColor:'rgba(255, 255, 255, 0.8)',borderRadius:10,padding:10,marginVertical:10},title:{fontSize:16,fontWeight:'bold',color:'#333333',marginBottom:10,textAlign:'center'},noDataText:{textAlign:'center',marginTop:80,color:'#999999',fontStyle:'italic'}});export default RainHistoryChart;","map":{"version":3,"names":["React","StyleSheet","View","Text","Dimensions","Svg","Rect","Line","SvgText","G","jsx","_jsx","jsxs","_jsxs","width","screenWidth","get","RainHistoryChart","data","height","length","style","styles","container","children","noDataText","maxAmount","Math","max","map","item","amount","padding","chartWidth","chartHeight","barWidth","formatDate","dateString","date","Date","getDate","getMonth","title","x1","y1","x2","y2","stroke","strokeWidth","x","y","fontSize","fill","textAnchor","index","barHeight","rx","create","backgroundColor","borderRadius","marginVertical","fontWeight","color","marginBottom","textAlign","marginTop","fontStyle"],"sources":["/Users/atemjohnatem/Downloads/meteo-malaga/src/components/RainHistoryChart.tsx"],"sourcesContent":["import React from 'react';\nimport { StyleSheet, View, Text, Dimensions } from 'react-native';\nimport { Svg, Rect, Line, Text as SvgText, G } from 'react-native-svg';\n\ninterface RainHistoryChartProps {\n  data: { date: string; amount: number }[];\n  height?: number;\n  width?: number;\n}\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nconst RainHistoryChart: React.FC<RainHistoryChartProps> = ({ \n  data, \n  height = 200, \n  width = screenWidth - 40 \n}) => {\n  if (!data || data.length === 0) {\n    return (\n      <View style={[styles.container, { height, width }]}>\n        <Text style={styles.noDataText}>No hay datos disponibles</Text>\n      </View>\n    );\n  }\n\n  // Find the maximum rain amount for scaling\n  const maxAmount = Math.max(...data.map(item => item.amount), 10);\n  \n  // Chart dimensions\n  const padding = 30;\n  const chartWidth = width - padding * 2;\n  const chartHeight = height - padding * 2;\n  const barWidth = chartWidth / data.length - 4;\n  \n  // Format date for display\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    return `${date.getDate()}/${date.getMonth() + 1}`;\n  };\n\n  return (\n    <View style={[styles.container, { height, width }]}>\n      <Text style={styles.title}>Historial de Precipitaciones</Text>\n      <Svg height={height} width={width}>\n        {/* Y-axis */}\n        <Line\n          x1={padding}\n          y1={padding}\n          x2={padding}\n          y2={height - padding}\n          stroke=\"#CCCCCC\"\n          strokeWidth=\"1\"\n        />\n        \n        {/* X-axis */}\n        <Line\n          x1={padding}\n          y1={height - padding}\n          x2={width - padding}\n          y2={height - padding}\n          stroke=\"#CCCCCC\"\n          strokeWidth=\"1\"\n        />\n        \n        {/* Y-axis labels */}\n        <SvgText\n          x={padding - 5}\n          y={padding}\n          fontSize=\"10\"\n          fill=\"#666666\"\n          textAnchor=\"end\"\n        >\n          {maxAmount}mm\n        </SvgText>\n        \n        <SvgText\n          x={padding - 5}\n          y={height - padding}\n          fontSize=\"10\"\n          fill=\"#666666\"\n          textAnchor=\"end\"\n        >\n          0mm\n        </SvgText>\n        \n        {/* Bars */}\n        {data.map((item, index) => {\n          const barHeight = (item.amount / maxAmount) * chartHeight;\n          const x = padding + index * (chartWidth / data.length) + 2;\n          const y = height - padding - barHeight;\n          \n          return (\n            <G key={index}>\n              <Rect\n                x={x}\n                y={y}\n                width={barWidth}\n                height={barHeight}\n                fill=\"#3B82F6\"\n                rx={4}\n              />\n              \n              <SvgText\n                x={x + barWidth / 2}\n                y={height - padding + 15}\n                fontSize=\"8\"\n                fill=\"#666666\"\n                textAnchor=\"middle\"\n              >\n                {formatDate(item.date)}\n              </SvgText>\n              \n              <SvgText\n                x={x + barWidth / 2}\n                y={y - 5}\n                fontSize=\"8\"\n                fill=\"#666666\"\n                textAnchor=\"middle\"\n              >\n                {item.amount > 0 ? `${item.amount}mm` : ''}\n              </SvgText>\n            </G>\n          );\n        })}\n      </Svg>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: 'rgba(255, 255, 255, 0.8)',\n    borderRadius: 10,\n    padding: 10,\n    marginVertical: 10,\n  },\n  title: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#333333',\n    marginBottom: 10,\n    textAlign: 'center',\n  },\n  noDataText: {\n    textAlign: 'center',\n    marginTop: 80,\n    color: '#999999',\n    fontStyle: 'italic',\n  },\n});\n\nexport default RainHistoryChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}