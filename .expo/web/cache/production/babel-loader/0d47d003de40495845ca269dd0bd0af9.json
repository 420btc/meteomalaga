{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import React from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import{Svg,Rect,Line,Text as SvgText,G}from'react-native-svg';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";var _Dimensions$get=Dimensions.get('window'),screenWidth=_Dimensions$get.width;var RainHistoryChart=function RainHistoryChart(_ref){var data=_ref.data,_ref$height=_ref.height,height=_ref$height===void 0?200:_ref$height,_ref$width=_ref.width,width=_ref$width===void 0?screenWidth-40:_ref$width;if(!data||data.length===0){return _jsx(View,{style:[styles.container,{height:height,width:width}],children:_jsx(Text,{style:styles.noDataText,children:\"No hay datos disponibles\"})});}var maxAmount=Math.max.apply(Math,_toConsumableArray(data.map(function(item){return item.amount;})).concat([10]));var padding=30;var chartWidth=width-padding*2;var chartHeight=height-padding*2;var barWidth=chartWidth/data.length-4;var formatDate=function formatDate(dateString){var date=new Date(dateString);return date.getDate()+\"/\"+(date.getMonth()+1);};return _jsxs(View,{style:[styles.container,{height:height,width:width}],children:[_jsx(Text,{style:styles.title,children:\"Historial de Precipitaciones\"}),_jsxs(Svg,{height:height,width:width,children:[_jsx(Line,{x1:padding,y1:padding,x2:padding,y2:height-padding,stroke:\"#CCCCCC\",strokeWidth:\"1\"}),_jsx(Line,{x1:padding,y1:height-padding,x2:width-padding,y2:height-padding,stroke:\"#CCCCCC\",strokeWidth:\"1\"}),_jsxs(SvgText,{x:padding-5,y:padding,fontSize:\"10\",fill:\"#666666\",textAnchor:\"end\",children:[maxAmount,\"mm\"]}),_jsx(SvgText,{x:padding-5,y:height-padding,fontSize:\"10\",fill:\"#666666\",textAnchor:\"end\",children:\"0mm\"}),data.map(function(item,index){var barHeight=item.amount/maxAmount*chartHeight;var x=padding+index*(chartWidth/data.length)+2;var y=height-padding-barHeight;return _jsxs(G,{children:[_jsx(Rect,{x:x,y:y,width:barWidth,height:barHeight,fill:\"#3B82F6\",rx:4}),_jsx(SvgText,{x:x+barWidth/2,y:height-padding+15,fontSize:\"8\",fill:\"#666666\",textAnchor:\"middle\",children:formatDate(item.date)}),_jsx(SvgText,{x:x+barWidth/2,y:y-5,fontSize:\"8\",fill:\"#666666\",textAnchor:\"middle\",children:item.amount>0?item.amount+\"mm\":''})]},index);})]})]});};var styles=StyleSheet.create({container:{backgroundColor:'rgba(255, 255, 255, 0.8)',borderRadius:10,padding:10,marginVertical:10},title:{fontSize:16,fontWeight:'bold',color:'#333333',marginBottom:10,textAlign:'center'},noDataText:{textAlign:'center',marginTop:80,color:'#999999',fontStyle:'italic'}});export default RainHistoryChart;","map":{"version":3,"names":["React","StyleSheet","View","Text","Dimensions","Svg","Rect","Line","SvgText","G","jsx","_jsx","jsxs","_jsxs","_Dimensions$get","get","screenWidth","width","RainHistoryChart","_ref","data","_ref$height","height","_ref$width","length","style","styles","container","children","noDataText","maxAmount","Math","max","apply","_toConsumableArray","map","item","amount","concat","padding","chartWidth","chartHeight","barWidth","formatDate","dateString","date","Date","getDate","getMonth","title","x1","y1","x2","y2","stroke","strokeWidth","x","y","fontSize","fill","textAnchor","index","barHeight","rx","create","backgroundColor","borderRadius","marginVertical","fontWeight","color","marginBottom","textAlign","marginTop","fontStyle"],"sources":["/Users/atemjohnatem/Downloads/meteo-malaga/src/components/RainHistoryChart.tsx"],"sourcesContent":["import React from 'react';\nimport { StyleSheet, View, Text, Dimensions } from 'react-native';\nimport { Svg, Rect, Line, Text as SvgText, G } from 'react-native-svg';\n\ninterface RainHistoryChartProps {\n  data: { date: string; amount: number }[];\n  height?: number;\n  width?: number;\n}\n\nconst { width: screenWidth } = Dimensions.get('window');\n\nconst RainHistoryChart: React.FC<RainHistoryChartProps> = ({ \n  data, \n  height = 200, \n  width = screenWidth - 40 \n}) => {\n  if (!data || data.length === 0) {\n    return (\n      <View style={[styles.container, { height, width }]}>\n        <Text style={styles.noDataText}>No hay datos disponibles</Text>\n      </View>\n    );\n  }\n\n  // Find the maximum rain amount for scaling\n  const maxAmount = Math.max(...data.map(item => item.amount), 10);\n  \n  // Chart dimensions\n  const padding = 30;\n  const chartWidth = width - padding * 2;\n  const chartHeight = height - padding * 2;\n  const barWidth = chartWidth / data.length - 4;\n  \n  // Format date for display\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    return `${date.getDate()}/${date.getMonth() + 1}`;\n  };\n\n  return (\n    <View style={[styles.container, { height, width }]}>\n      <Text style={styles.title}>Historial de Precipitaciones</Text>\n      <Svg height={height} width={width}>\n        {/* Y-axis */}\n        <Line\n          x1={padding}\n          y1={padding}\n          x2={padding}\n          y2={height - padding}\n          stroke=\"#CCCCCC\"\n          strokeWidth=\"1\"\n        />\n        \n        {/* X-axis */}\n        <Line\n          x1={padding}\n          y1={height - padding}\n          x2={width - padding}\n          y2={height - padding}\n          stroke=\"#CCCCCC\"\n          strokeWidth=\"1\"\n        />\n        \n        {/* Y-axis labels */}\n        <SvgText\n          x={padding - 5}\n          y={padding}\n          fontSize=\"10\"\n          fill=\"#666666\"\n          textAnchor=\"end\"\n        >\n          {maxAmount}mm\n        </SvgText>\n        \n        <SvgText\n          x={padding - 5}\n          y={height - padding}\n          fontSize=\"10\"\n          fill=\"#666666\"\n          textAnchor=\"end\"\n        >\n          0mm\n        </SvgText>\n        \n        {/* Bars */}\n        {data.map((item, index) => {\n          const barHeight = (item.amount / maxAmount) * chartHeight;\n          const x = padding + index * (chartWidth / data.length) + 2;\n          const y = height - padding - barHeight;\n          \n          return (\n            <G key={index}>\n              <Rect\n                x={x}\n                y={y}\n                width={barWidth}\n                height={barHeight}\n                fill=\"#3B82F6\"\n                rx={4}\n              />\n              \n              <SvgText\n                x={x + barWidth / 2}\n                y={height - padding + 15}\n                fontSize=\"8\"\n                fill=\"#666666\"\n                textAnchor=\"middle\"\n              >\n                {formatDate(item.date)}\n              </SvgText>\n              \n              <SvgText\n                x={x + barWidth / 2}\n                y={y - 5}\n                fontSize=\"8\"\n                fill=\"#666666\"\n                textAnchor=\"middle\"\n              >\n                {item.amount > 0 ? `${item.amount}mm` : ''}\n              </SvgText>\n            </G>\n          );\n        })}\n      </Svg>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: 'rgba(255, 255, 255, 0.8)',\n    borderRadius: 10,\n    padding: 10,\n    marginVertical: 10,\n  },\n  title: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#333333',\n    marginBottom: 10,\n    textAlign: 'center',\n  },\n  noDataText: {\n    textAlign: 'center',\n    marginTop: 80,\n    color: '#999999',\n    fontStyle: 'italic',\n  },\n});\n\nexport default RainHistoryChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}